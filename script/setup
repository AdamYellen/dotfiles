#!/bin/sh
# Install all dotfiles into the home directory

if [ -x "$HOME/.dotfiles/stow.sh" ]
then
  "$HOME/.dotfiles/stow.sh"
else
  echo "Stow setup is missing"
fi

if [ -n "$CODESPACES" ]; then
  # Fix up Codespaces permissions
  chmod 700 /workspaces

  # Don't try to git gc github/github, it happens often and takes ages
  if [ "$CODESPACE_VSCODE_FOLDER" = "/workspaces/github" ]; then
    git -C /workspaces/github config gc.auto 0
  fi
fi
